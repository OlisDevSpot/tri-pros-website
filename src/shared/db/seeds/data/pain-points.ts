import type { AddonAccessor, TradeAccessor } from '@/shared/db/types'

export const painPointCategories = ['thermalComfort', 'healthAndComfort', 'financialConsiderations', 'materialDamages', 'other'] as const

export type PainPointCategory = typeof painPointCategories[number]

export const painPoints = {
  thermalComfort: [
    {
      accessor: 'homeTooCold',
      label: 'Home is too cold',
      severity: 'variable',
      symptoms: ['drafts', 'cold spots', 'uneven temperatures'],
      likelyCauses: ['air leaks', 'poor atticBasement', 'HVAC undersized or failing'],
      trades: ['hvac', 'atticBasement'],
      addons: ['atticAirSealing'],
      tags: ['comfort', 'energy', 'seasonal'],
    },
    {
      accessor: 'homeTooHot',
      label: 'Home is too hot',
      severity: 'variable',
      symptoms: ['overheating', 'inefficient cooling', 'rooms hotter than others'],
      likelyCauses: ['poor atticBasement', 'attic heat gain', 'HVAC undersized', 'duct issues'],
      trades: ['hvac', 'atticBasement'],
      addons: ['atticAirSealing'],
      tags: ['comfort', 'energy'],
    },
  ],
  healthAndComfort: [
    {
      accessor: 'homeFeelsDusty',
      label: 'Home feels dusty',
      severity: 'low_to_medium',
      symptoms: ['visible dust accumulation', 'frequent dusting needed'],
      likelyCauses: ['duct leakage', 'dirty filters', 'air infiltration', 'poor air cleaning'],
      trades: ['hvac', 'windowsAndDoors'],
      addons: ['atticAirSealing'],
      tags: ['iaq', 'comfort'],
    },
    {
      accessor: 'homeHasMold',
      label: 'Home has mold or signs of mold',
      severity: 'high',
      symptoms: ['musty smell', 'visible mold', 'condensation'],
      likelyCauses: ['humaccessority issues', 'leaks', 'poor ventilation'],
      trades: ['hazardousMaterials', 'hvac', 'plumbing', 'roof'],
      tags: ['iaq', 'health', 'moisture'],
    },
    {
      accessor: 'healthConcerns',
      label: 'Health concerns or allergens',
      severity: 'high',
      symptoms: ['respiratory irritation', 'headaches', 'sneezing'],
      likelyCauses: ['poor IAQ', 'mold', 'dust mites', 'VOC buildup'],
      trades: ['hvac', 'hazardousMaterials', 'plumbing', 'roof', 'windowsAndDoors'],
      addons: ['atticAirSealing'],
      tags: ['health', 'iaq'],
    },
  ],
  financialConsiderations: [
    {
      accessor: 'unrealized property value',
      label: 'Unrealized property value',
      severity: 'high',
      symptoms: ['property value is too low', 'property value is too high'],
      likelyCauses: ['property value too low', 'property value too high'],
      trades: ['windowsAndDoors', 'dryscapingHardscaping', 'roof', 'exteriorPaintSiding', 'exteriorFeatures', 'adu'],
      tags: ['financial', 'property'],
    },
    {
      accessor: 'electricBillTooHigh',
      label: 'Electric bill is too high',
      severity: 'medium',
      symptoms: ['monthly cost spike', 'consistently high usage'],
      likelyCauses: ['inefficient HVAC', 'air leaks', 'poor atticBasement', 'old appliances'],
      trades: ['hvac', 'atticBasement', 'electricals', 'windowsAndDoors'],
      addons: ['atticAirSealing'],
      tags: ['energy', 'cost'],
    },
    {
      accessor: 'waterBillTooHigh',
      label: 'Water bill is too high',
      severity: 'medium',
      symptoms: ['unexpected monthly increase'],
      likelyCauses: ['leaking fixtures', 'running toilets', 'irrigation issues'],
      trades: ['plumbing', 'dryscapingHardscaping'],
      tags: ['water', 'cost'],
    },
    {
      accessor: 'gasBillTooHigh',
      label: 'Gas bill is too high',
      severity: 'medium',
      symptoms: ['unexpected spikes', 'cold indoor temps despite heat'],
      likelyCauses: ['poor atticBasement', 'leaky ducts', 'inefficient furnace'],
      trades: ['hvac', 'atticBasement'],
      addons: ['atticAirSealing'],
      tags: ['energy', 'cost'],
    },
    {
      accessor: 'highCreditCardUtilization',
      label: 'Credit card utilization too high',
      severity: 'medium',
      symptoms: ['unexpected spikes', 'cold indoor temps despite heat'],
      likelyCauses: [],
      trades: ['hvac', 'atticBasement', 'roof', 'exteriorPaintSiding'],
      tags: ['energy', 'cost'],
    },
  ],
  materialDamages: [
    {
      accessor: 'roofLeaks',
      label: 'Roof leaks',
      severity: 'high',
      symptoms: ['water stains', 'dripping', 'soft drywall', 'musty odor'],
      likelyCauses: ['roof damage', 'pipe issues', 'window flashing failure'],
      trades: ['plumbing', 'roof'],
      tags: ['moisture', 'urgent'],
    },
    {
      accessor: 'windowLeaks',
      label: 'Window leaks',
      severity: 'high',
      symptoms: ['water stains', 'dripping', 'soft drywall', 'musty odor'],
      likelyCauses: ['roof damage', 'pipe issues', 'window flashing failure'],
      trades: ['plumbing', 'windowsAndDoors'],
      tags: ['moisture', 'urgent'],
    },
  ],
  other: [
    {
      accessor: 'specificTradeIssue',
      label: 'Specific trade issue',
      severity: 'variable',
      symptoms: [],
      likelyCauses: [],
      trades: ['all'],
      tags: ['flex'],
    },
  ],
} as const satisfies Record<PainPointCategory, { trades: (TradeAccessor | 'all')[], addons?: AddonAccessor[], [key: string]: any }[]>
